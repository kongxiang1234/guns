<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日测试</title>
    <link rel="stylesheet" href="${ctxPath}/assets/e365/css/iconfont.css">
    <link rel="stylesheet" href="${ctxPath}/assets/e365/css/layout.css">
    <link rel="stylesheet" href="${ctxPath}/assets/common/libs/layui/css/layui.css?v=${constants.getReleaseVersion()}"/>
    <link rel="stylesheet" href="${ctxPath}/assets/common/module/admin.css?v=${constants.getReleaseVersion()}" media="all"/>
    <link rel="stylesheet" href="${ctxPath}/assets/expand/css/style.css?v=${constants.getReleaseVersion()}" media="all"/>
    <script type="text/javascript" src="${ctxPath}/assets/common/libs/layui/layui.js?v=${constants.getReleaseVersion()}"></script>
    <script src="${ctxPath}/assets/expand/plugins/jquery/jquery-3.2.1.min.js?v=${constants.getReleaseVersion()}"></script>
    <style>
        .container{color:#181818;font-size:.9rem;}
        .container form{width:100%;}
        .container form li{margin:2vh 0;padding:0 3% 1vh;border-bottom: 12px solid #F7F7F7;}
        .container form li:last-child{border-bottom: 0;}
        .container form h5{line-height:1.8;font-size:.9rem;margin:1vh 0;}
        .container form p{line-height:2.5;}
        .container form p label{display:inline-block;line-height:20px;}
        .container form p label i{font-style:normal;margin-right:2em;border-radius:50%;background:transparent;display:inline-block;width:6vw;height:6vw;line-height:6vw;text-align:center;vertical-align: middle;}
        /* .container form p input[type="radio"]:before{content:''; width:20px;height:20px;border:1px solid red; display:inline-block;border-radius:50%;vertical-align: middle;}
        .container form p input[type="radio"]:checked:before{ content: '';width: 20px;height: 20px;border: 1px solid #c59c5a;background:#c59c5a;display: inline-block;border-radius: 50%;vertical-align: middle;}
        .container form p input[type="radio"]:checked:after{content: ''; width: 10px;height:5px;border: 2px solid white;border-top: transparent;border-right: transparent;text-align: center;display: block;position: absolute;top: 6px;left:5px;vertical-align: middle;transform: rotate(-45deg);} */

        .container form .form_btn{display:flex;justify-content:space-between;align-items: center;width:100%;height:6vh;}
        .container form .form_btn input{width:100%;height:100%;}
        .container form .form_btn input[type="reset"]{background:url(${ctxPath}/images/safeknowledge/ico-reset.png) #fff no-repeat center;font-size:.8rem;color:#333;background-size:3vw;background-position: 40%;text-indent:15%;}
        .container form .form_btn input[type="submit"]{text-align:center;color:#fff;font-size:.9rem;background:#007BFF;}
    </style>
</head>
<body>
    <div class="container">
        <form target="frameFile" onsubmit="return false;">
            <ul>
                @for(item in mapList){

                @if(item.questions_type == "1"){
                <span style="color: crimson">第  ${itemLP.index}  单选题</span>
                @}

                @if(item.questions_type == "2"){
                <span style="color: crimson">第  ${itemLP.index}  多选题</span>
                @}

                @if(item.questions_type == "3"){
                <span style="color: crimson">第  ${itemLP.index}  判断题</span>
                @}


                  @if(item.questions_type == "1"){
                        <li>
                            <h5 style="position:relative;">${item.title}<span id="${itemLP.index}" style="position:absolute;right: 10px;bottom: 10px">（    &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;）</span></h5>
                            @if(isNotEmpty(item.Asubject_Single)){
                            <p><label>

                                <input type="radio" name="${itemLP.index}" value="A" id="AsubjectS">
                                <i>A &nbsp;&nbsp;&nbsp;</i>${item.Asubject_Single}</label>

                            </p>
                            @}
                            @if(isNotEmpty(item.Bsubject_Single)){
                            <p><label>
                                <input type="radio" name="${itemLP.index}" value="B" id="BsubjectS">
                               <i>B &nbsp;&nbsp;&nbsp;</i>${item.Bsubject_Single}</label>
                            </p>
                            @}
                            @if(isNotEmpty(item.Csubject_Single)){
                            <p>
                                <label>
                                <input type="radio" name="${itemLP.index}" value="C" id="CsubjectS">
                                    <i>C &nbsp;&nbsp;&nbsp;</i>${item.Csubject_Single}</label>
                            </p>
                            @}
                            @if(isNotEmpty(item.Dsubject_Single)){
                            <p><label>
                                <input type="radio" name="${itemLP.index}" value="D" id="DsubjectS">
                                <i>D &nbsp;&nbsp;&nbsp;</i>${item.Dsubject_Single}</label>
                            </p>
                            @}
                            @if(isNotEmpty(item.Esubject_Single)){
                                <p><label>
                                    <input type="radio" name="${itemLP.index}" value="E" id="EsubjectS">
                                    <i>E &nbsp;&nbsp;&nbsp;</i>${item.Esubject_Single}</label>
                                </p>
                            @}
                            @if(isNotEmpty(item.Fsubject_Single)){
                            <p><label>
                                <input type="radio" name="${itemLP.index}" value="F" id="FsubjectS">
                                <i>F &nbsp;&nbsp;&nbsp;</i>${item.Fsubject_Single}</label>
                            </p>
                            @}
                        </li>
                   @}
                    @if(item.questions_type == "2"){
                    <li>
                        <h5 style="position:relative;">${item.title}<span id="${itemLP.index}" style="position:absolute;right: 10px;bottom: 10px">（    &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;）</span></h5>
                        @if(isNotEmpty(item.Asubject_Multiple)){
                        <p><label>

                            <input type="checkbox" name="${itemLP.index}" value="A" id="AsubjectM">
                            <i>A &nbsp;&nbsp;&nbsp;</i>${item.Asubject_Multiple}</label>

                        </p>
                        @}
                        @if(isNotEmpty(item.Bsubject_Multiple)){
                        <p><label >
                            <input type="checkbox" name="${itemLP.index}" value="B" id="BsubjectM">
                            <i>B &nbsp;&nbsp;&nbsp;</i>${item.Bsubject_Multiple}</label>
                        </p>
                        @}
                        @if(isNotEmpty(item.Csubject_Multiple)){
                        <p><label>
                            <input type="checkbox" name="${itemLP.index}" value="C" id="CsubjectM">
                            <i>C &nbsp;&nbsp;&nbsp;</i>${item.Csubject_Multiple}</label>
                        </p>
                        @}
                        @if(isNotEmpty(item.Dsubject_Multiple)){
                        <p><label>
                            <input type="checkbox" name="${itemLP.index}" value="D" id="DsubjectM">
                            <i>D &nbsp;&nbsp;&nbsp;</i>${item.Dsubject_Multiple}</label>
                        </p>
                        @}
                        @if(isNotEmpty(item.Esubject_Multiple)){
                        <p><label>
                            <input type="checkbox" name="${itemLP.index}" value="E" id="EsubjectM">
                            <i>E &nbsp;&nbsp;&nbsp;</i>${item.Esubject_Multiple}</label>
                        </p>
                        @}
                        @if(isNotEmpty(item.Fsubject_Multiple)){
                        <p>
                            <label>
                            <input type="checkbox" name="${itemLP.index}" value="F" id="FsubjectM">
                            <i>F &nbsp;&nbsp;&nbsp;</i>${item.Fsubject_Multiple}</label>
                        </p>
                        @}
                    </li>
                    @}
                    @if(item.questions_type == "3"){
                    <li>
                        <h5 style="position:relative;">${item.title} <span id="${itemLP.index}" style="position:absolute;right: 10px;bottom: 10px">（    &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;）</span></h5>
                        <p><label >
                            <input type="radio" name="${itemLP.index}" value="1" id="flagA">
                            <i>1</i>对</label>
                        </p>
                        <p><label>
                            <input type="radio" name="${itemLP.index}" value="2" id="flagB">
                            <i>2</i>错</label>

                        </p>

                    </li>
                    @}
                @}
            </ul>
            <div class="form_btn" id="formSumit">
                <input type="hidden" value="${string}" id="string">
                <input id="formSumits" type="submit" value="提交" onclick="submitMei()">
            </div>
        </form>
    </div>
</body>

<script >
    function submitMei() {
        var one=$("input[name='1']:checked").length;
        if (one==0){
            alert("请选择第一道题")
            return false;
        }else {
            if (one==1){
                one=$("input[name='1']:checked").val()
            }else {
                one=$("input[name='1']:checked")
                var thisLength = one.length;
                //使用字符串数组，用于存放选择好了的数据
                var str = new Array();
                for(var i = 0;i < thisLength;i++) {
                    if (one[i].checked == true) {
                        str.push(one[i].value);//这个是获取多选框中的值
                    }
                }
                one=str;
            }
        }
        var two=$("input[name='2']:checked").length;
        if (two==0){
            alert("请选择第二道题")
            return false;
        }else {
            if (two==1){
                two=$("input[name='2']:checked").val()
            }else {
                two=$("input[name='2']:checked")
                var thisLength = two.length;
                //使用字符串数组，用于存放选择好了的数据
                var str = new Array();
                for(var i = 0;i < thisLength;i++) {
                    if (two[i].checked == true) {
                        str.push(two[i].value);//这个是获取多选框中的值
                    }
                }
                two=str;
            }
        }
        var three=$("input[name='3']:checked").length;
        if (three==0){
            alert("请选择第三道题")
            return false;
        }else {
            if (three==1){
                three=$("input[name='3']:checked").val()
            }else {
                three=$("input[name='3']:checked")
                var thisLength = three.length;
                //使用字符串数组，用于存放选择好了的数据
                var str = new Array();
                for(var i = 0;i < thisLength;i++) {
                    if (three[i].checked == true) {
                        str.push(three[i].value);//这个是获取多选框中的值
                    }
                }
                three=str;
            }
        }
        var four=$("input[name='4']:checked").length;
        if (four==0){
            alert("请选择第四道题")
            return false;
        }else {
            if (four==1){
                four=$("input[name='4']:checked").val()
            }else {
                four=$("input[name='4']:checked")
                var thisLength = four.length;
                //使用字符串数组，用于存放选择好了的数据
                var str = new Array();
                for(var i = 0;i < thisLength;i++) {
                    if (four[i].checked == true) {
                        str.push(four[i].value);//这个是获取多选框中的值
                    }
                }
                four=str;
            }
        }
        var fifth=$("input[name='5']:checked").length;
        if (fifth==0){
            alert("请选择第五道题")
            return false;
        }else {
            if (fifth==1){
                fifth=$("input[name='5']:checked").val()
            }else {
                fifth=$("input[name='5']:checked")
                var thisLength = fifth.length;
                //使用字符串数组，用于存放选择好了的数据
                var str = new Array();
                for(var i = 0;i < thisLength;i++) {
                    if (fifth[i].checked == true) {
                        str.push(fifth[i].value);//这个是获取多选框中的值
                    }
                }
                fifth=str;
            }
        }
        var str=$("#string").val().split(".");
        if (str[0]==one){
            var fieldFlag=document.getElementById('1')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/casereport/deduct-checked.png"></i>（   正确 &nbsp;  &nbsp;  &nbsp; &nbsp; ）'
        }else {
            var fieldFlag=document.getElementById('1')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/realnamecer/err_close.png"></i>（    &nbsp;  &nbsp; '+str[0]+' &nbsp; &nbsp; ）'
        }
        if (str[1]==two){
            var fieldFlag=document.getElementById('2')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/casereport/deduct-checked.png"></i>（ 正确   &nbsp;  &nbsp;  &nbsp; &nbsp; ）'
        }else {
            var fieldFlag=document.getElementById('2')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/realnamecer/err_close.png"></i>（    &nbsp;  &nbsp; '+str[1]+' &nbsp; &nbsp; ）'
        }
        if (str[2]==three){
            var fieldFlag=document.getElementById('3')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/casereport/deduct-checked.png"></i>（ 正确   &nbsp;  &nbsp;  &nbsp; &nbsp; ）'
        }else {
            var fieldFlag=document.getElementById('3')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/realnamecer/err_close.png"></i>（    &nbsp;  &nbsp; '+str[2]+' &nbsp; &nbsp; ）'
        }
        if (str[3]==four){
            var fieldFlag=document.getElementById('4')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/casereport/deduct-checked.png"></i>（  正确  &nbsp;  &nbsp;  &nbsp; &nbsp; ）'
        }else {
            var fieldFlag=document.getElementById('4')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/realnamecer/err_close.png"></i>（    &nbsp;  &nbsp; '+str[3]+' &nbsp; &nbsp; ）'
        }
        if (str[4]==fifth){
            var fieldFlag=document.getElementById('5')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/casereport/deduct-checked.png"></i>（  正确  &nbsp;  &nbsp;  &nbsp; &nbsp; ）'
        }else {
            var fieldFlag=document.getElementById('5')
            fieldFlag.innerHTML='<i style="width: 12px;height: 15px;display: inline-block"><img  src="${ctxPath}/assets/e365/images/realnamecer/err_close.png"></i>（    &nbsp;  &nbsp; '+str[4]+' &nbsp; &nbsp; ）'
        }
        $.ajax({
            type: 'POST',
            url: '/gasStation/meiriAudit',
            success: function (data) {
                if (data.success) {
                    alert("已提交！")
                    if(confirm("今日做题已完成,您还继续吗")){
                        window.location.href="/gasStation/meiri"
                    }else {
                        $('#formSumit').removeClass();
                        document.getElementById('formSumit').style.display= 'none';
                    }
                } else {
                    if(data.code==100){
                        if(confirm("今日做题已完成,您还继续吗")){
                            window.location.href="/gasStation/meiri"
                        }else {
                            $('#formSumit').removeClass();
                            document.getElementById('formSumit').style.display= 'none';

                        }
                    }
                }
            }
        });
    }


</script>
</html>